---
# Development Environment Configuration
environment: development
debug: true

# D&B API Configuration
dnb_api:
  base_url: "https://plus.dnb.com"
  client_id: "${DNB_CLIENT_ID}"
  client_secret: "${DNB_CLIENT_SECRET}"
  rate_limit: 5.0  # calls per second
  timeout: 30      # seconds
  retry_attempts: 3
  backoff_factor: 2.0

# Database Configuration
database:
  url: "${DATABASE_URL:postgresql://localhost:5432/traceone_monitoring_dev}"
  pool_size: 5
  max_overflow: 10
  pool_timeout: 30
  pool_recycle: 3600

# Monitoring Configuration
monitoring:
  polling_interval: 300        # 5 minutes
  max_notifications: 100
  notification_batch_size: 25
  replay_window_days: 14

# Logging Configuration
logging:
  level: "DEBUG"
  format: "json"
  file: "${LOG_FILE:./logs/traceone-monitoring-dev.log}"
  max_size: "100MB"
  backup_count: 5

# Security Configuration
security:
  encryption_key: "${ENCRYPTION_KEY}"
  audit_logging: true
  rate_limiting: true
  token_refresh_buffer: 300

# Metrics Configuration
metrics:
  enabled: true
  port: 9090
  path: "/metrics"

# SFTP Storage Configuration
sftp_storage:
  enabled: false  # Set to true to enable SFTP storage
  hostname: "${SFTP_HOSTNAME:mft.dnb.com}"
  port: ${SFTP_PORT:22}
  username: "${SFTP_USERNAME:trace}"
  password: "${SFTP_PASSWORD:}"  # Optional, use private key instead
  private_key_path: "${SFTP_PRIVATE_KEY_PATH:~/.ssh/id_rsa}"
  private_key_passphrase: "${SFTP_PRIVATE_KEY_PASSPHRASE:}"  # Optional
  remote_base_path: "${SFTP_REMOTE_PATH:/gets}"  # Adjust based on your server setup
  file_format: "${SFTP_FILE_FORMAT:json}"  # json, csv, or xml
  compress_files: ${SFTP_COMPRESS:false}
  timeout: ${SFTP_TIMEOUT:30}
  max_retries: ${SFTP_MAX_RETRIES:3}
  organize_by_date: ${SFTP_ORGANIZE_BY_DATE:true}
  organize_by_registration: ${SFTP_ORGANIZE_BY_REGISTRATION:true}
